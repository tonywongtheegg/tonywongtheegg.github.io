!function(e,t){"function"==typeof define&&define.amd?define("oip",function(){return t(document,window)}):"object"==typeof exports?module.exports=t:e.oip=t(document,window)}(this,function(e,t){var r,d,c,u,a,g,p,f=document.getElementsByTagName("meta");function m(){return void 0!==r&&void 0!==d&&void 0!==c&&void 0!==u}function s(t,o){"undefined"!=typeof require&&require(["dctk/dctk"],function(e){e&&e.logging&&e.logging.logError&&e.logging.logError(t,o)})}function w(e){var t=new RegExp("[; ]"+e+"=([^\\s;]*)"),o=(" "+g.cookie).match(t);if(e&&o)return unescape(o[1])}return function e(t,o){var n,i;return g=void 0!==t?t:document,p=void 0!==o?o:window,function(){var e;for(e=0;e<f.length;e++)"oip.set"===f[e].getAttribute("name")&&(r="true"===f[e].getAttribute("content")),"oip.yes"===f[e].getAttribute("name")&&(d="true"===f[e].getAttribute("content")),"oip.no"===f[e].getAttribute("name")&&(c="true"===f[e].getAttribute("content")),"oip.canTrack"===f[e].getAttribute("name")&&(u="true"===f[e].getAttribute("content"));a="meta"}(),m()||p.oip&&p.oip.gdpr&&(r=p.oip.gdpr.set,d=p.oip.gdpr.yes,c=p.oip.gdpr.no,u=p.oip.canTrack,a="globals"),m()||(n=w("OIP"),i=n&&0<=n.indexOf("ab.gdpr|0"),void 0===n||i?(c=d=r=!1,u=!("boolean"==typeof window["com.expedia.www.tracking.default"]&&!window["com.expedia.www.tracking.default"])):0===n.indexOf("gdpr|1")?u=!(c=!(d=r=!0)):0===n.indexOf("gdpr|0")?u=!(c=!(d=!(r=!0))):0===n.indexOf("gdpr|-1")&&(u=c=d=r=!1),a="cookie",s("OipFallbackToCookie")),m()||(u=void 0===w("OIP")?!(c=!(d=!(r=!1))):c=d=r=!1,a="none",s("oipPermissionsReadError",{canTrack:u})),{set:r,yes:d,no:c,source:a,canTrack:u,init:e}}(e,t)});